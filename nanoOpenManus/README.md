# NanoOpenManus

NanoOpenManus æ˜¯ [OpenManus](https://github.com/mannaandpoem/OpenManus) é¡¹ç›®çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä¸“ä¸ºå…¥é—¨è€…å­¦ä¹ å’Œç†è§£ AI ä»£ç†ç³»ç»Ÿè€Œè®¾è®¡ã€‚å®ƒä¿ç•™äº†æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†ç®€åŒ–äº†å®ç°ï¼Œä½¿ä»£ç æ›´æ˜“äºç†è§£å’Œå­¦ä¹ ã€‚

## é¡¹ç›®æ¦‚è¿°

NanoOpenManus æ˜¯ä¸€ä¸ªåŸºäºå·¥å…·è°ƒç”¨çš„ AI ä»£ç†æ¡†æ¶ï¼Œå®ƒå…è®¸ AI åŠ©æ‰‹ä½¿ç”¨å„ç§å·¥å…·æ¥è§£å†³å¤æ‚é—®é¢˜ã€‚è¯¥é¡¹ç›®çš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š

1. **ä»£ç†ï¼ˆAgentï¼‰**ï¼šè´Ÿè´£ç†è§£ç”¨æˆ·è¯·æ±‚ï¼Œè§„åˆ’è§£å†³æ–¹æ¡ˆï¼Œå¹¶è°ƒç”¨é€‚å½“çš„å·¥å…·
2. **å·¥å…·ï¼ˆToolï¼‰**ï¼šæä¾›ç‰¹å®šåŠŸèƒ½çš„æ¨¡å—ï¼Œå¦‚æ‰§è¡Œ Python ä»£ç ã€ä¿å­˜æ–‡ä»¶ç­‰
3. **å·¥å…·è°ƒç”¨ï¼ˆTool Callï¼‰**ï¼šä»£ç†å†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·åŠå…¶å‚æ•°ï¼Œå¹¶å¤„ç†å·¥å…·æ‰§è¡Œç»“æœ

## ç³»ç»Ÿæ¶æ„

NanoOpenManus é‡‡ç”¨äº†ç®€æ´çš„åˆ†å±‚æ¶æ„ï¼š

```
+------------------+
|      ç”¨æˆ·        |
+--------+---------+
         |
         v
+--------+---------+
|    Manus ä»£ç†    |
+--------+---------+
         |
         v
+--------+---------+
|    å·¥å…·é›†åˆ      |
+--------+---------+
         |
         v
+--------+---------+
| Python | æ–‡ä»¶  | ç¯å¢ƒ | ç»ˆæ­¢ |
| æ‰§è¡Œ   | ä¿å­˜  | æ£€æŸ¥ | å·¥å…· |
+--------+---------+
```

## å®‰è£…æŒ‡å—

### å‰ææ¡ä»¶

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- pip æˆ–å…¶ä»– Python åŒ…ç®¡ç†å·¥å…·
- å¦‚éœ€ä½¿ç”¨Dockeræ²™ç®±æ¨¡å¼ï¼Œéœ€å®‰è£…Dockerå’Œdocker-compose

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“ï¼ˆæˆ–ä¸‹è½½ä»£ç ï¼‰ï¼š

```bash
git clone https://github.com/yourusername/nanoOpenManus.git
cd nanoOpenManus
```

2. å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

**æ³¨æ„**:
- å¦‚æœè¦ä½¿ç”¨ LLM é›†æˆåŠŸèƒ½ï¼Œéœ€è¦å®‰è£… `httpx` åº“
- å¦‚æœè¦ä½¿ç”¨ .env æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œéœ€è¦å®‰è£… `python-dotenv` åº“
- å¦‚æœè¦ä½¿ç”¨ç¯å¢ƒæ£€æŸ¥å·¥å…·ï¼Œéœ€è¦å®‰è£… `psutil` åº“

## é…ç½®è¯´æ˜

NanoOpenManus æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æœ€æ–¹ä¾¿çš„æ–¹å¼ï¼š

### 1. ä½¿ç”¨ .env æ–‡ä»¶é…ç½®ï¼ˆæ¨èï¼‰

è¿™æ˜¯æœ€æ¨èçš„é…ç½®æ–¹å¼ï¼Œä¾¿äºç®¡ç†æ•æ„Ÿä¿¡æ¯å’Œå¼€å‘ç¯å¢ƒé…ç½®ï¼š

1. å¤åˆ¶æ¨¡æ¿æ–‡ä»¶åˆ›å»ºé…ç½®ï¼š

```bash
cp .env.template .env
```

2. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„é…ç½®ï¼š

```ini
# OpenAI API å¯†é’¥
OPENAI_API_KEY=your-api-key-here

# å…¶ä»–é…ç½®ï¼ˆå¯é€‰ï¼‰
LLM_MODEL=gpt-4o
LLM_BASE_URL=https://api.openai.com/v1
MAX_STEPS=15
DEBUG=false
```

### 2. ç¯å¢ƒå˜é‡é…ç½®

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š

```bash
# å¿…éœ€ - å¦‚æœè¦ä½¿ç”¨çœŸå®çš„LLMåŠŸèƒ½
export OPENAI_API_KEY="your-api-key-here"

# å¯é€‰ - è‡ªå®šä¹‰è®¾ç½®
export LLM_MODEL="gpt-4o"  # é»˜è®¤ä¸º gpt-4o
export LLM_BASE_URL="https://api.openai.com/v1"  # é»˜è®¤ä¸º OpenAI API åœ°å€
export MAX_STEPS="15"  # é»˜è®¤ä¸º 15
export DEBUG="false"  # é»˜è®¤ä¸º false
```

### 3. å‘½ä»¤è¡Œå‚æ•°é…ç½®

è¿è¡Œæ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šï¼š

```bash
python -m nanoOpenManus.main --api-key "your-api-key" --model "gpt-4o" --base-url "https://api.openai.com/v1" --max-steps 15
```

## ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨ NanoOpenManus

**æ ‡å‡†æ¨¡å¼**:

```bash
# ä½¿ç”¨.envæ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡é…ç½®
python -m nanoOpenManus.main

# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
python -m nanoOpenManus.main --api-key "your-api-key"
```

**Dockeræ²™ç®±æ¨¡å¼**:

```bash
# ä½¿ç”¨Dockeræ²™ç®±æ¨¡å¼å¯åŠ¨ï¼Œå·¥å…·å°†åœ¨Dockerå®¹å™¨å†…æ‰§è¡Œ
python -m nanoOpenManus.docker_start --api-key "your-api-key"

# æˆ–è€…ä½¿ç”¨æ ‡å‡†æ¨¡å¼ä¹Ÿå¯é€‰æ‹©å¯ç”¨Dockeræ²™ç®±
python -m nanoOpenManus.main --use-docker
```

### è¿è¡Œæ¨¡å¼

NanoOpenManus æœ‰ä»¥ä¸‹å‡ ç§è¿è¡Œæ¨¡å¼ï¼š

1. **æ ‡å‡†æ¨¡å¼**: å·¥å…·åœ¨æœ¬åœ°ç¯å¢ƒç›´æ¥æ‰§è¡Œã€‚
2. **Dockeræ²™ç®±æ¨¡å¼**: å·¥å…·åœ¨éš”ç¦»çš„Dockerå®¹å™¨ä¸­æ‰§è¡Œï¼Œæä¾›æ›´é«˜çš„å®‰å…¨æ€§ã€‚
3. **LLM æ¨¡å¼**: ä½¿ç”¨çœŸå®çš„å¤§è¯­è¨€æ¨¡å‹ APIï¼Œæä¾›æ™ºèƒ½çš„ä»£ç†åŠŸèƒ½ã€‚éœ€è¦é…ç½® API å¯†é’¥ã€‚
4. **æ¨¡æ‹Ÿæ¨¡å¼**: å½“æœªé…ç½® API å¯†é’¥æˆ– LLM å®¢æˆ·ç«¯åˆå§‹åŒ–å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°æ­¤æ¨¡å¼ã€‚ä½¿ç”¨é¢„è®¾çš„æ¨¡æ‹Ÿå“åº”è¿›è¡Œæµ‹è¯•å’Œå­¦ä¹ ã€‚

### Dockeræ²™ç®±æ¨¡å¼

Dockeræ²™ç®±æ¨¡å¼æä¾›äº†ä¸€ä¸ªå®‰å…¨çš„æ‰§è¡Œç¯å¢ƒï¼Œå°¤å…¶é€‚åˆæ‰§è¡Œä¸å—ä¿¡ä»»çš„ä»£ç ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼š

1. æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½è½¬å‘åˆ°Dockerå®¹å™¨ä¸­æ‰§è¡Œ
2. æ–‡ä»¶æ“ä½œè¢«é™åˆ¶åœ¨ç‰¹å®šç›®å½•å†…
3. Pythonæ‰§è¡Œç¯å¢ƒå—åˆ°èµ„æºé™åˆ¶å’Œå®‰å…¨å¢å¼º
4. ä»£ç åœ¨érootç”¨æˆ·ä¸‹è¿è¡Œ

è¯¦ç»†çš„Dockeræ²™ç®±è¯´æ˜è¯·å‚é˜…[Dockeræ²™ç®±æ–‡æ¡£](./docker/README.md)ã€‚

### ä½¿ç”¨ç¤ºä¾‹

åœ¨å¯åŠ¨ NanoOpenManus åï¼Œæ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š

```
ğŸ™‹ è¯·è¾“å…¥æ‚¨çš„è¯·æ±‚: è¯·å¸®æˆ‘å†™ä¸€ä¸ªè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°ï¼Œå¹¶ä¿å­˜åˆ° fib.py æ–‡ä»¶ä¸­
```

NanoOpenManus å°†ï¼š
1. åˆ†ææ‚¨çš„è¯·æ±‚
2. é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­å¯èƒ½æ˜¯ python_execute å’Œ file_saverï¼‰
3. æ‰§è¡Œå·¥å…·å¹¶è¿”å›ç»“æœ

éªŒè¯Dockeræ²™ç®±æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š
```
ğŸ™‹ è¯·è¾“å…¥æ‚¨çš„è¯·æ±‚: æ£€æŸ¥å½“å‰æ‰§è¡Œç¯å¢ƒ
```

## å†…ç½®å·¥å…·

NanoOpenManus æä¾›äº†ä»¥ä¸‹åŸºæœ¬å·¥å…·ï¼š

1. **PythonExecute**ï¼šæ‰§è¡Œ Python ä»£ç ï¼Œç”¨æ³•ç¤ºä¾‹ï¼š
   ```
   è¯·æ‰§è¡Œä»¥ä¸‹Pythonä»£ç : print("Hello, world!")
   ```

2. **FileSaver**ï¼šä¿å­˜å†…å®¹åˆ°æ–‡ä»¶ï¼Œç”¨æ³•ç¤ºä¾‹ï¼š
   ```
   è¯·å°†ä»¥ä¸‹å†…å®¹ä¿å­˜åˆ° hello.txt æ–‡ä»¶: Hello, NanoOpenManus!
   ```

3. **EnvironmentCheck**ï¼šæ£€æŸ¥æ‰§è¡Œç¯å¢ƒä¿¡æ¯ï¼Œç”¨æ³•ç¤ºä¾‹ï¼š
   ```
   æ£€æŸ¥å½“å‰è¿è¡Œç¯å¢ƒä¿¡æ¯
   ```

4. **Terminate**ï¼šå®Œæˆä»»åŠ¡å¹¶ç»ˆæ­¢ä»£ç†æ‰§è¡Œï¼Œé€šå¸¸ç”±ä»£ç†è‡ªåŠ¨è°ƒç”¨ã€‚

## æ‰©å±• NanoOpenManus

### æ·»åŠ æ–°å·¥å…·

1. åˆ›å»ºæ–°çš„å·¥å…·ç±»ï¼Œç»§æ‰¿ `BaseTool`ï¼š

```python
from nanoOpenManus.app.tools.base import BaseTool, ToolResult

class MyNewTool(BaseTool):
    def __init__(self):
        super().__init__(
            name="my_new_tool",
            description="è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·",
            parameters={
                "type": "object",
                "properties": {
                    "param1": {"type": "string", "description": "å‚æ•°1"},
                },
                "required": ["param1"]
            }
        )
    
    async def execute(self, param1, **kwargs) -> ToolResult:
        # å®ç°å·¥å…·é€»è¾‘
        return ToolResult(output=f"å¤„ç†äº†å‚æ•°: {param1}")
```

2. åœ¨ Manus ç±»ä¸­æ³¨å†Œæ–°å·¥å…·ï¼š

```python
from my_module import MyNewTool

# åˆ›å»ºManuså®ä¾‹
agent = Manus()

# æ·»åŠ è‡ªå®šä¹‰å·¥å…·
agent.available_tools.add_tool(MyNewTool())
```

## LLM é›†æˆ

NanoOpenManus é»˜è®¤æ”¯æŒ LLM é›†æˆï¼Œéœ€è¦é…ç½® API å¯†é’¥ï¼š

1. é€šè¿‡ .env æ–‡ä»¶ï¼šåœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½® `OPENAI_API_KEY=your-api-key`
2. é€šè¿‡ç¯å¢ƒå˜é‡ï¼š`export OPENAI_API_KEY="your-api-key"`
3. é€šè¿‡å‘½ä»¤è¡Œï¼š`python -m nanoOpenManus.main --api-key "your-api-key"`

**æ”¯æŒçš„ LLM è®¾ç½®**ï¼š
- **æ¨¡å‹**ï¼šå¯é€šè¿‡é…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡æˆ–å‘½ä»¤è¡Œå‚æ•°è®¾ç½®
- **API ç«¯ç‚¹**ï¼šå¯è‡ªå®šä¹‰ä»¥æ”¯æŒå…¼å®¹çš„å…¶ä»– LLM æä¾›å•†
- **è¶…æ—¶è®¾ç½®**ï¼šLLM è¯·æ±‚é»˜è®¤è¶…æ—¶æ—¶é—´ä¸º 60 ç§’

**ä½¿ç”¨å…¶ä»– LLM æä¾›å•†**ï¼š
å¦‚æœæ‚¨æƒ³ä½¿ç”¨ä¸ OpenAI API å…¼å®¹çš„å…¶ä»– LLM æä¾›å•†ï¼ˆå¦‚ Azure OpenAIï¼‰ï¼Œåªéœ€ä¿®æ”¹ `LLM_BASE_URL` æŒ‡å‘å¯¹åº”çš„ API ç«¯ç‚¹ã€‚

## é¡¹ç›®ç»“æ„

```
nanoOpenManus/
â”œâ”€â”€ .env.template          # ç¯å¢ƒå˜é‡æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ app/                   # ä¸»åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ agent.py           # ä»£ç†ç±»å®ç°
â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ docker_manus.py    # Dockerç‰ˆæœ¬çš„Manusä»£ç†
â”‚   â”œâ”€â”€ llm.py             # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ manus.py           # Manus ä»£ç†å®ç°
â”‚   â””â”€â”€ tools/             # å·¥å…·å®ç°
â”‚       â”œâ”€â”€ base.py        # åŸºç¡€å·¥å…·ç±»
â”‚       â”œâ”€â”€ docker_proxy.py # Dockerå·¥å…·ä»£ç†
â”‚       â”œâ”€â”€ environment_check.py # ç¯å¢ƒæ£€æŸ¥å·¥å…·
â”‚       â”œâ”€â”€ file_saver.py  # æ–‡ä»¶ä¿å­˜å·¥å…·
â”‚       â”œâ”€â”€ python_execute.py # Pythonæ‰§è¡Œå·¥å…·
â”‚       â”œâ”€â”€ terminate.py   # ç»ˆæ­¢å·¥å…·
â”‚       â””â”€â”€ tool_collection.py # å·¥å…·é›†åˆ
â”œâ”€â”€ docker/                # Dockeræ²™ç®±ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile         # å®šä¹‰Dockeré•œåƒ
â”‚   â”œâ”€â”€ docker-compose.yml # Dockerå®¹å™¨é…ç½®
â”‚   â”œâ”€â”€ entrypoint.sh      # å®¹å™¨å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ README.md          # Dockeræ²™ç®±è¯´æ˜
â”‚   â”œâ”€â”€ workspace/         # å®¹å™¨å†…å¤–å…±äº«ç›®å½•
â”‚   â””â”€â”€ home/              # ç”¨æˆ·ä¸»ç›®å½•
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”‚   â””â”€â”€ llm_integration.md # LLMé›†æˆæ–‡æ¡£
â”œâ”€â”€ docker_start.py        # Dockeræ¨¡å¼å¯åŠ¨è„šæœ¬
â”œâ”€â”€ main.py                # ä¸»å…¥å£
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â””â”€â”€ requirements.txt       # ä¾èµ–æ¸…å•
```

## å¸¸è§é—®é¢˜è§£ç­”

### Q: ä¸ºä»€ä¹ˆæˆ‘çš„è¯·æ±‚æ²¡æœ‰å¾—åˆ°æ™ºèƒ½å“åº”ï¼Ÿ

A: å¯èƒ½æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š
- æœªé…ç½® API å¯†é’¥ï¼Œç³»ç»Ÿä½¿ç”¨çš„æ˜¯æ¨¡æ‹Ÿæ¨¡å¼
- API å¯†é’¥æ— æ•ˆæˆ–è¿‡æœŸ
- è¯·æ±‚æ ¼å¼ä¸æ­£ç¡®

### Q: å¦‚ä½•ä½¿ç”¨å…¶ä»– LLM æœåŠ¡æä¾›å•†ï¼Ÿ

A: ä¿®æ”¹ .env æ–‡ä»¶ä¸­çš„ `LLM_BASE_URL` æˆ–å‘½ä»¤è¡Œå‚æ•°ä¸­çš„ `--base-url` åˆ°æ‚¨æƒ³è¦ä½¿ç”¨çš„ API ç«¯ç‚¹ï¼Œä½†è¯·ç¡®ä¿è¯¥ API ä¸ OpenAI API å…¼å®¹ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿçš„è¯¦ç»†æ—¥å¿—ï¼Ÿ

A: åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½® `DEBUG=true` æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ `DEBUG=true` å¯ä»¥å¯ç”¨è¯¦ç»†æ—¥å¿—ã€‚

### Q: Dockeræ²™ç®±æ¨¡å¼å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- ç¡®ä¿å·²å®‰è£…Dockerå’Œdocker-compose
- æ£€æŸ¥DockeræœåŠ¡æ˜¯å¦å¯åŠ¨
- æŸ¥çœ‹Dockeræ—¥å¿—ä»¥è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š`docker logs nanomanus-sandbox`
- å°è¯•æ‰‹åŠ¨æ„å»ºDockerå®¹å™¨ï¼š`cd nanoOpenManus/docker && docker-compose up -d`

### Q: æ— æ³•å®‰è£…ä¾èµ–æ€ä¹ˆåŠï¼Ÿ

A: å°è¯•é€ä¸ªå®‰è£…ä¾èµ–ï¼š
```bash
pip install asyncio
pip install httpx
pip install python-dotenv
pip install psutil
```

### Q: è¿è¡Œæ—¶é‡åˆ°"æ¨¡å—æœªæ‰¾åˆ°"é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

A: è¿™å¯èƒ½æ˜¯å› ä¸º Python æ¨¡å—è·¯å¾„é—®é¢˜ï¼Œè¯·ç¡®ä¿æ‚¨åœ¨æ­£ç¡®çš„ç›®å½•ä¸‹è¿è¡Œï¼Œæˆ–å°è¯•æ·»åŠ é¡¹ç›®è·¯å¾„åˆ° PYTHONPATHï¼š
```bash
export PYTHONPATH=$PYTHONPATH:/path/to/parent/directory
```

## å­¦ä¹ èµ„æº

- [OpenManus å®˜æ–¹ä»“åº“](https://github.com/mannaandpoem/OpenManus)
- [LangChain æ–‡æ¡£](https://python.langchain.com/docs/get_started/introduction)
- [OpenAI å‡½æ•°è°ƒç”¨æ–‡æ¡£](https://platform.openai.com/docs/guides/function-calling)
- [Docker æ–‡æ¡£](https://docs.docker.com/)

## è´¡çŒ®æŒ‡å—

æ¬¢è¿å¯¹ NanoOpenManus åšå‡ºè´¡çŒ®ï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸ï¼š

1. æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®
2. æäº¤ Pull Request ä¿®å¤ bug æˆ–æ·»åŠ æ–°åŠŸèƒ½
3. å®Œå–„æ–‡æ¡£æˆ–æ·»åŠ ç¤ºä¾‹

## è®¸å¯è¯

MIT 